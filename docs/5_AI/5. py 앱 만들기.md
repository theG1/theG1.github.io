---
layout: default
title: py ì•± ë§Œë“¤ê¸°
nav_order: 5
parent: AI
---
ê¸°ì¡´ì— Do it LLMì—ì„œ ìˆ˜í–‰í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•©ë‹ˆë‹¤.

í´ë” ë§Œë“¤ê¸°(í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°)

í•´ë‹¹ ì‘ì—…ì€ ìœˆë„ìš°ì—ì„œ ì§„í–‰í•´ë„ ë˜ì§€ë§Œ í´ë” ì°¾ê¸°ê°€ ë§¤ìš° í˜ë“œë¯€ë¡œ, vs code ì˜ í„°ë¯¸ë„ì—ì„œ ì§„í–‰í•˜ëŠ” ê²ƒì„ ê¶Œì¥.

```bash
# mkdir <í´ë”ì´ë¦„> ë¦¬ëˆ…ìŠ¤ì—ì„œ í´ë”ë¥¼ ë§Œë“œëŠ” ëª…ë ¹ì–´ ì…ë‹ˆë‹¤.
mkdir test
cd test # í…ŒìŠ¤íŠ¸ í´ë”ë¡œ ì´ë™í•©ë‹ˆë‹¤.
```

ê°€ìƒ í™˜ê²½ ë§Œë“¤ê¸° (ì‚¬ì‹¤ ì´ëŸ° ì‘ì—…ë„ claude codeê°€ ëŒ€ì‹  ìˆ˜í–‰í•´ì¤„ìˆ˜ ìˆìŒ)

```bash
# python -m venv <ê°€ìƒí™˜ê²½ëª…>
python -m venv venv
```

![[Pasted image 20251023092221.png]]

Do it ì±… ë‚´ìš©ì„ ì°¸ê³ í•´ì£¼ì„¸ìš” 34í˜ì´ì§€

ì±…ì˜ ë‚´ìš©ì¸ openai ë¥¼ í™œìš©í•˜ì—¬, dotenvë¥¼ í†µí•´ api ë¥¼ ë³´í˜¸í•˜ê³  ì„¸íŒ…í•œ ê²ƒì„ ì¤€ë¹„í•©ë‹ˆë‹¤.

ì¤‘ê°„ì— í•„ìš”í•œ ë‚´ìš©ë“¤ì„ ì¸ìŠ¤í†¨ë„ í•©ë‹ˆë‹¤.

```bash
pip install python-dotenv
pip install openai
pip install streamlit

```

.env

```python
OPENAI_API_KEY=<APIí‚¤ê°’>
```

ì˜ˆì œ ì½”ë“œ

streamlit_openai.py

```python
import re
import streamlit as st
from openai import OpenAI
from dotenv import load_dotenv
import os

load_dotenv()

# ì‚¬ì´ë“œë°”: API í‚¤ë¥¼ ì›ë˜ ì…ë ¥í•´ì•¼í•˜ë‚˜ ë¯¸ë¦¬ ë„£ì–´ì£¼ëŠ” ë°©ì‹
with st.sidebar:
    open_api_key = os.getenv("OPENAI_API_KEY")
    # openai_api_key = st.text_input("OpenAI API Key", key="chatbot_api_key", type="password")
    "[Get your API key](<https://platform.openai.com/account/api-keys>)"
    "[View the code](<https://github.com/streamlit/llm-examples/blob/main/Chatbot.py>)"
    "[![Open in GitHub Codespaces](<https://github.com/codespaces/badge.svg>)](<https://codespaces.new/streamlit/llm-examples?quickstart=1>)"
    
# ë©”ì¸ í˜ì´ì§€
st.title("ğŸ’¬Chatbot")

# ì„¸ì…˜ ìƒíƒœì— ë©”ì‹œì§€ ì €ì¥
if "messages" not in st.session_state:
    st.session_state["messages"] = [{"role": "assistant", "content": "How can I help you today?"}]

# ëŒ€í™” ê¸°ë¡ì„ ì›¹ë¸Œë¼ìš°ì €ì— ì¶œë ¥í•˜ëŠ” ë¶€ë¶„. st.chat_messageëŠ” ìŠ¤íŠ¸ë¦¼ë¦¿ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ì— ë©”ì‹œì§€ë¥¼ ì¶œë ¥
for msg in st.session_state.messages:
    st.chat_message(msg["role"]).markdown(msg["content"])

# ì‚¬ìš©ì ì…ë ¥ì„ ë°›ì•„ì„œ OpenAI APIì— ì „ë‹¬í•˜ê³ , ì‘ë‹µì„ ë°›ì•„ì„œ ë‹¤ì‹œ ì›¹ë¸Œë¼ìš°ì €ì— ì¶œë ¥
if prompt := st.chat_input("Type your message"):
    # OpenAI API í‚¤ê°€ ì—†ìœ¼ë©´ ì¤‘ë‹¨
    if not open_api_key:
        st.info("Please add your OpenAI API key to continue.")
        st.stop()
    # OpenAI í´ë¼ì´ì–¸íŠ¸ ìƒì„± ë° ë©”ì‹œì§€ ì¶”ê°€ st.session_state.messagesì— ì‚¬ìš©ì ë©”ì‹œì§€ ë”•ì…”ë„ˆë¦¬ë¡œ ì¶”ê°€
    client = OpenAI(api_key=open_api_key)
    st.session_state.messages.append({"role": "user", "content": prompt})
    st.chat_message("user").markdown(prompt)
    # OpenAI APIì— ë©”ì‹œì§€ ì „ë‹¬ ë° ì‘ë‹µ ë°›ê¸°
    response = client.chat.completions.create(model="gpt-4o", messages=st.session_state.messages)
    msg = response.choices[0].message.content
    st.session_state.messages.append({"role": "assistant", "content": msg})
    st.chat_message("assistant").markdown(msg)
    
    
    
    
    
```

ì˜ˆì œ Dockerfile

```bash
# 1. Python ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ
FROM python:alpine

# 2. ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
WORKDIR /app

# 3. requirements ì„¤ì¹˜
COPY requirements.txt .
RUN pip install --upgrade pip && \\
    pip install --no-cache-dir -r requirements.txt

# 4. ì•± ì½”ë“œ ë³µì‚¬
COPY . .

# 5. ê¸°ë³¸ ì‹¤í–‰ ëª…ë ¹
EXPOSE 8501
CMD ["streamlit", "run", "streamlit_basic.py", "--server.address=0.0.0.0", "--server.port=8501"]

```

êµ¬ë™ ë° ì ‘ì†

```python
streamlit run streamlit_openai.py
```

![[Pasted image 20251023092230.png]]